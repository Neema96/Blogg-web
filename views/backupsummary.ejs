<%- include('partials/header') %>

<div class="container">
    <h2 class="text-center mt-4 mb-4" id="blog-h2">Summary of Users and Their Blogs</h2>
    <table class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>User</th>
                <th>Blog Titles</th>
                <th>Number of Blogs</th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach(user => { %>
                <tr>
                    <td><%= user.firstname %></td>
                    <td>
                        <% if (user.blogTitles && user.blogTitles.length > 0) { %>
                            <ul>
                                <% user.blogTitles.forEach(title => { %>
                                    <li><%= title %></li>
                                <% }) %>
                            </ul>
                        <% } else { %>
                            No blogs
                        <% } %>
                    </td>
                    <td><%= user.blogCount %></td>
                </tr>
            <% }) %>
        </tbody>
    </table>

<%- include('partials/footer') %>